<!DOCTYPE html>
<html>

<head>
  <title> Vedelem</title>
  <meta charset="utf-8">
  <meta name="description" content="Leaderboard">
  <meta name="author" content="Chris Ramirez">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet">
  <link rel="stylesheet" href="w3-theme-blue.css">
  <link rel="stylesheet" href="Test.css">
  <link rel="stylesheet" href="w3.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>

<body onLoad="buildHtmlTable('#myTable')">

  <div class="w3-sidebar w3-bar-block w3-card w3-theme-d2 w3-center w3-xlarge" style="width:15%">
    <h3 class="w3-bar-item w3-xxxlarge " >Content</h3>
    <a href="leaderboard" class="w3-bar-item w3-button w3-padding-16 w3-theme-d3">Leaderboard</a>
    <a href="register" class="w3-bar-item w3-button w3-padding-16">Register</a>
    <a href="login" class="w3-bar-item w3-button w3-padding-16">Login</a>
  </div>

  <canvas id="line-chart" width="3" height="1"></canvas>


  <div style="margin-left:15%">

    <div class="w3-container">
      <div class="w3-card-4">
        <header class="w3-container w3-theme-d1 w3-center">
          <h1 class="w3-xxxlarge w3-myfont"> Vedelem </h1>
        </header>
      </div>
    </div>



    <div class="w3-container w3-padding-16">

      <input class="w3-input w3-border w3-padding" type="text" placeholder='Search for names..'id="myInput" onkeyup="filter()">

      <table class="w3-table-all w3-card-4 w3-centered w3-hoverable" id="myTable">
        <tr class="w3-blue w3-xlarge">
         <!-- <th>Rank</th>
          
          <th>Name</th>
          <th>Score</th>
        </tr>
        <tr>
          <td>1</td>
          
          <td>Test Name</td>
          <td>1000</td>
        </tr>
        -->
      </table>

    </div>
  </div>
 <p id="demo"></p>
 <table id="excelDataTable" border="1">
  </table>
 <br><br>
 <form action="#" method="post">
        USERNAME&nbsp <input type = text placeholder="Input username" name = "username" id = "username"><br><br>
        PASSWORD&nbsp <input type = text placeholder="Input password" name = "password" id = "password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"><br><br>
        SCORE&nbsp <input type = text placeholder="Input score" name = "score" id = "score"><br><br>



 <input type = submit name = "score" value="Enter Score">
</body>

<script>

function filter() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
/*
labels = JSON.parse({{ labels | tojson }})
data = JSON.parse({{ data | tojson }})
*/

function buildHtmlTable(selector) {
  labels = JSON.parse({{ labels | tojson }});
  /*labels = JSON.parse(myList);*/
  console.log(labels);
  var columns = addAllColumnHeaders(labels, selector);

  for (var i = 0; i < labels.length; i++) {
    var row$ = $('<tr/>');
    for (var colIndex = 0; colIndex < columns.length; colIndex++) {
      var cellValue = labels[i][columns[colIndex]];
      if (cellValue == null) cellValue = "";
      row$.append($('<td/>').html(cellValue));
    }
    $(selector).append(row$);
  }
}

/*
var myList = [
  { "name": "abc", "age": 50 },
  { "age": "25", "hobby": "swimming" },
  { "name": "xyz", "hobby": "programming" }
];
*/

// Adds a header row to the table and returns the set of columns.
// Need to do union of keys from all records as some records may not contain
// all records.
function addAllColumnHeaders(myList, selector) {
  var columnSet = [];
  var headerTr$ = $('<tr/>');
  labels = JSON.parse({{labels | tojson }});

  for (var i = 0; i < labels.length; i++) {
    var rowHash = labels[i];
    for (var key in rowHash) {
      if ($.inArray(key, columnSet) == -1) {
        columnSet.push(key);
        headerTr$.append($('<th/>').html(key));
      }
    }
  }
  $(selector).append(headerTr$);

  return columnSet;
}

/*
var obj, dbParam, xmlhttp, myObj, x, txt = "";
obj = { table: "customers", limit: 20 };
dbParam = JSON.stringify(obj);
xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    myObj = JSON.parse({{ labels | tojson }});
    txt += "<table border='1'>"
    for (x in myObj) {
      txt += "<tr><td>" + myObj[x].name + "</td></tr>";
    }
    txt += "</table>"
    document.getElementById("demo").innerHTML = txt;
  }
}
xmlhttp.open("POST", "json_demo_db_post.php", true);
xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
xmlhttp.send("x=" + dbParam);
*/
/*
labels = JSON.parse({{ labels | tojson }})
        data = JSON.parse({{ data | tojson }})
        new Chart(document.getElementById("line-chart"),{
                "type":"line",
                "data":
                        //using the labels here.
                        {"labels":labels,
                        "datasets":[{"label":"Sentiment Over Time",
                        //using data here
                        "data": data,
                        "fill":false,
                        "borderColor":"rgb(75, 192, 192)",
                        "lineTension":0.1}]},
                "options":{}});

*/
</script>

</html>
